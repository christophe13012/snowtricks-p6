{% extends 'base.html.twig' %}

{% block title %}Update trick
{% endblock %}

{% block body %}
	<div class="container p-5">
		<h3>Créer un nouveau trick</h3>
		{{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
		{{ form_label(form.name, 'Nom du trick', {'label_attr': {'class': 'mt-3'}}) }}
		{{ form_widget(form.name) }}
		{{ form_label(form.category, 'Catégorie', {'label_attr': {'class': 'mt-3'}}) }}
		{{ form_widget(form.category) }}
		{{ form_label(form.description, 'Description', {'label_attr': {'class': 'mt-3'}}) }}
		{{ form_widget(form.description, { 'attr': {'class': 'contenu'} }) }}
		{{ form_label(form.mainImage, 'Url de la photo principale', {'label_attr': {'class': 'mt-3'}}) }}
		{{ form_widget(form.mainImage) }}
		<ul class="list-group mt-3" style="list-style: none;">
			<button type="button" class="btn btn-secondary mt-3" id="add_photo1" style="{{photos|length != 0 ? 'display: none' : ''}}">Ajouter une photo supplémentaire<i class="fas fa-image fa-lg ml-2"></i>
			</button>
			<button type="button" class="btn btn-secondary mt-3" id="add_photo2" style="{{photos|length == 1 ? 'display: block' : ''}}">Ajouter une photo supplémentaire<i class="fas fa-image fa-lg ml-2"></i>
			</button>
			<button type="button" class="btn btn-secondary mt-3" id="add_photo3" style="{{photos|length == 2 ? 'display: block' : ''}}">Ajouter une photo supplémentaire<i class="fas fa-image fa-lg ml-2"></i>
			</button>
			<li class="list-group-item list-group-item-primary" id="photo1" style="{{photos|length > 0 ? 'display: block' : ''}}">
				<label for="url1" class="form-label">Url photo supplémentaire #1</label>
				<div class="input-group">
					<input type="text" class="form-control" name="url1" id="url1" value={{photos|length > 0 ? photos[0].url : ''}}>
					<button class="btn btn-danger" type="button" id="supp1" style="{{photos|length != 1 ? 'display: none' : ''}}">Supprimer</button>
				</div>
			</li>
			<li class="list-group-item list-group-item-primary" id="photo2" style="{{photos|length > 1 ? 'display: block' : ''}}">
				<label for="url2" class="form-label">Url photo supplémentaire #2</label>
				<div class="input-group">
					<input type="text" class="form-control" name="url2" id="url2" value={{photos|length > 1 ? photos[1].url : ''}}>
					<button class="btn btn-danger" type="button" id="supp2" style="{{photos|length != 2 ? 'display: none' : ''}}">Supprimer</button>
				</div>
			</li>
			<li class="list-group-item list-group-item-primary" id="photo3" style="{{photos|length > 2 ? 'display: block' : ''}}">
				<label for="url3" class="form-label">Url photo supplémentaire #3</label>
				<div class="input-group">
					<input type="text" class="form-control" name="url3" id="url3" value={{photos|length > 2 ? photos[2].url : ''}}>
					<button class="btn btn-danger" type="button" id="supp3">Supprimer</button>
				</div>
			</li>
		</ul>

		<ul class="list-group mt-3" style="list-style: none;">
			<button type="button" class="btn btn-secondary" id="add_video1" style="{{videos|length != 0 ? 'display: none' : ''}}">Ajouter une vidéo<i class="fab fa-youtube fa-lg ml-2"></i>
			</button>
			<button type="button" class="btn btn-secondary mt-3" id="add_video2" style="{{videos|length == 1 ? 'display: block' : ''}}">Ajouter une vidéo supplémentaire<i class="fas fa-image fa-lg ml-2"></i>
			</button>
			<button type="button" class="btn btn-secondary mt-3" id="add_video3" style="{{videos|length == 2 ? 'display: block' : ''}}">Ajouter une vidéo supplémentaire<i class="fas fa-image fa-lg ml-2"></i>
			</button>
			<li class="list-group-item list-group-item-primary" id="video1" style="{{videos|length > 0 ? 'display: block' : ''}}">
				<label for="urlvideo1" class="form-label">Url vidéo #1</label>
				<div class="input-group">
					<input type="text" class="form-control" name="urlvideo1" id="urlvideo1" value='{{videos|length > 0 ? videos[0].url : ''}}'>
					<button class="btn btn-danger" type="button" id="suppvideo1" style="{{videos|length != 1 ? 'display: none' : ''}}">Supprimer</button>
				</div>
			</li>
			<li class="list-group-item list-group-item-primary" id="video2" style="{{videos|length > 1 ? 'display: block' : ''}}">
				<label for="urlvideo2" class="form-label">Url vidéo #2</label>
				<div class="input-group">
					<input type="text" class="form-control" name="urlvideo2" id="urlvideo2" value='{{videos|length > 1 ? videos[1].url : ''}}'>
					<button class="btn btn-danger" type="button" id="suppvideo2" style="{{videos|length != 2 ? 'display: none' : ''}}">Supprimer</button>
				</div>
			</li>
			<li class="list-group-item list-group-item-primary" id="video3" style="{{videos|length > 2 ? 'display: block' : ''}}">
				<label for="urlvideo3" class="form-label">Url vidéo #3</label>
				<div class="input-group">
					<input type="text" class="form-control" name="urlvideo3" id="urlvideo3" value='{{videos|length > 2 ? videos[2].url : ''}}'>
					<button class="btn btn-danger" type="button" id="suppvideo3">Supprimer</button>
				</div>
			</li>
		</ul>
		<div class="mt-1">
			<button class="btn btn-primary mt-2" id="test" class="btn">{{ button_label|default('Enregistrer') }}</button>
		</div>
		{{ form_end(form) }}
	</div>
{% endblock %}
